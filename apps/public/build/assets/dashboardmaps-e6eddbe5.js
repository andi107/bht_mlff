const s=location.protocol+"//"+window.location.host,n=s+"/assets/images/leaflet/marker-icon.png",v=s+"/assets/images/leaflet/marker-shadow.png";var t=L.map("dashboardmap",{minZoom:5,attributionControl:!1}).setView([.33995192349439596,120.3733680354565],5),l=new L.FeatureGroup,m=L.tileLayer(window.mapLayer,{attribution:""});m.addTo(t);function p(o,i=null,r=null,d=null){var a;if(i?a=L.marker(o,i):a=L.marker(o),d){var e=L.popup().setContent(d);a.bindPopup(e,{maxWidth:"342px",width:"342px",className:"customPopup"}).openPopup()}if(r){var c=L.tooltip().setContent(r);a.bindTooltip(c).openTooltip()}return a.addTo(t),a}var h=function(o){return'<h3 class="h6 text-center d-block text-uppercase font-weight-bold">INFO</h3><span class="bottom-line d-block mx-auto mt-3 mb-4"></span><div class="row my-2 mx-auto"><div class="col text-right border-right border-dark">DATE TIME</div><div class="col-7 pl-4"></div></div><div class="row my-2 mx-auto"><div class="col-5 text-right border-right border-dark">ALT (Meters)</div><div class="col-7 pl-4"></div></div><div class="row my-2 mx-auto"><div class="col-5 text-right border-right border-dark">SPEED</div><div class="col-7 pl-4">Km/h</div></div><div class="row my-2 mx-auto"><div class="col-5 text-right border-right border-dark">ACCURACY (CEP)</div><div class="col-7 pl-4"></div></div><div class="row my-2 mx-auto"><div class="col-5 text-right border-right border-dark">SIGNAL</div><div class="col-7 pl-4"></div></div><div class="row my-2 mx-auto"><div class="col-5 text-right border-right border-dark">DIRECTION</div><div class="col-7 pl-4"></div></div><div class="row my-2 mx-auto"><div class="col-5 text-right border-right border-dark">COORDINATE</div><div class="col-7 pl-4"></div></div><div class="row my-2 mx-auto"><div class="col-5 text-right border-right border-dark">SATTELITE</div><div class="col-7 pl-4"></div></div>'};$.get(s+"/dashboard/js",function(o){$.each(o.data.data,function(i,r){var d=p({lat:r.fflat,lng:r.fflon},{icon:L.icon({iconUrl:n,shadowUrl:v,iconAnchor:[17,37],shadowAnchor:[17,37],popupAnchor:[0,-15]})},r.created_at,h());l.addLayer(d),l.addTo(t)}),o.data.data.length!=0?t.fitBounds(l.getBounds()):console.log("No Data")});
