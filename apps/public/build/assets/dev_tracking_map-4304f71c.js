import"./leaflet.rotatedMarker-71d1d069.js";import"./_commonjsHelpers-28e086c5.js";const u="/assets/images/leaflet/toll_gate.png";var s=L.map("devicesmap",{minZoom:5,attributionControl:!1,fullscreenControl:!0}).setView([.33995192349439596,120.3733680354565],5);new L.FeatureGroup;var c=[],d,y=[],f=L.tileLayer(window.mapLayer,{attribution:""});f.addTo(s);$.get(window.burl+"/info/js/gate/zone",function(t){$.each(t.data,function(o,e){c.push({type:"Feature",properties:{created_at:e.created_at,fflat:e.fflat,fflon:e.fflon,fnpayment_type:e.fnpayment_type,ftdescription:e.ftdescription,ftname:e.ftname,ftsection:e.ftsection,id:e.id},geometry:{type:"Point",coordinates:[parseFloat(e.fflon),parseFloat(e.fflat)]}}),y.push({type:"Feature",properties:{fntype:e.fntype},geometry:{type:"Polygon",coordinates:[e.polygon]}})}),t.data.length!=0?(m(s),g(s)):console.log("No Data")});function m(t){var o=new L.featureGroup([]),e={type:"FeatureCollection",name:"relay",features:c};function a(p,i){var r=p.properties,l="n/a";r.fnpayment_type===1?l="Open":r.fnpayment_type===2&&(l="Close"),i.bindPopup(`<h3 class="h6 text-center d-block text-uppercase font-weight-bold">INFO</h3><span class="bottom-line d-block mx-auto mt-3 mb-4"></span><div class="row my-2 mx-auto"><div class="col text-right border-right border-dark">GATE NAME</div><div class="col-7 pl-4">${r.ftname}</div></div><div class="row my-2 mx-auto"><div class="col-5 text-right border-right border-dark">SECTION</div><div class="col-7 pl-4">${r.ftsection}</div></div><div class="row my-2 mx-auto"><div class="col-5 text-right border-right border-dark">PAYMENT TYPE</div><div class="col-7 pl-4">${l}</div></div>`,{maxHeight:400}),i.bindTooltip(r.ftname)}t.createPane("pane_Gate"),t.getPane("pane_Gate").style.zIndex=402,t.getPane("pane_Gate").style["mix-blend-mode"]="normal";var n=new L.geoJson(e,{attribution:"",interactive:!0,dataVar:"jGate",layerName:"lGate",pane:"pane_Gate",onEachFeature:a,pointToLayer:function(p,i){return L.marker(i,{icon:L.icon({iconUrl:u,iconSize:[30,30],iconAnchor:[16,25],popupAnchor:[0,-15]})})}});o.addLayer(n),t.addLayer(n),t.fitBounds(o.getBounds())}function g(t){var o={type:"FeatureCollection",name:"polyGates",features:y};function e(a){return a.properties.fntype===1?{pane:"pane_polyGates",opacity:1,color:"#00FFCA",dashArray:"",lineCap:"square",lineJoin:"bevel",weight:1,fillOpacity:1,interactive:!0}:{pane:"pane_polyGates",opacity:1,color:"#ED2B2A",dashArray:"",lineCap:"square",lineJoin:"bevel",weight:1,fillOpacity:1,interactive:!0}}t.createPane("pane_polyGates"),t.getPane("pane_polyGates").style.zIndex=401,t.getPane("pane_polyGates").style["mix-blend-mode"]="normal",d=new L.geoJson(o,{attribution:"",interactive:!0,dataVar:"json_polyGates",layerName:"layer_polyGates",pane:"pane_polyGates",style:e,pointToLayer:function(a,n){return window._newMarker(n,{icon:L.icon({iconUrl:window.gateUrl,iconSize:[30,30],iconAnchor:[8,25],popupAnchor:[0,-20]})},a.properties.gate_name,`<h3 class="h6 text-center d-block text-uppercase font-weight-bold">INFO</h3><span class="bottom-line d-block mx-auto mt-3 mb-4"></span><div class="row my-2 mx-auto"><div class="col text-right border-right border-dark">GATE NAME</div><div class="col-7 pl-4">${a.properties.gate_name}</div></div><div class="row my-2 mx-auto"><div class="col-5 text-right border-right border-dark">SECTION</div><div class="col-7 pl-4">${a.properties.ftsection}</div></div><div class="row my-2 mx-auto"><div class="col-5 text-right border-right border-dark">DECLARE</div><div class="col-7 pl-4">${a.properties.ftdeclaration_type}</div></div>`)}}),t.addLayer(d)}
