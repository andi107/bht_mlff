const c=window.url,n=window.iconUrl,v=window.shadowUrl;var a=L.map("dashboardmap",{minZoom:5,attributionControl:!1}).setView([.33995192349439596,120.3733680354565],5),l=new L.FeatureGroup,h=L.tileLayer(window.mapLayer,{attribution:""});h.addTo(a);function p(r,t=null,o=null,i=null){var d;if(t?d=L.marker(r,t):d=L.marker(r),i){var s=L.popup().setContent(i);d.bindPopup(s,{maxWidth:"342px",width:"342px",className:"customPopup"}).openPopup()}if(o){var e=L.tooltip().setContent(o);d.bindTooltip(e).openTooltip()}return d.addTo(a),d}var m=function(r){return'<h3 class="h6 text-center d-block text-uppercase font-weight-bold">INFO</h3><span class="bottom-line d-block mx-auto mt-3 mb-4"></span><div class="row my-2 mx-auto"><div class="col text-right border-right border-dark">DATE TIME</div><div class="col-7 pl-4"></div></div><div class="row my-2 mx-auto"><div class="col-5 text-right border-right border-dark">ALT (Meters)</div><div class="col-7 pl-4"></div></div><div class="row my-2 mx-auto"><div class="col-5 text-right border-right border-dark">SPEED</div><div class="col-7 pl-4">Km/h</div></div><div class="row my-2 mx-auto"><div class="col-5 text-right border-right border-dark">ACCURACY (CEP)</div><div class="col-7 pl-4"></div></div><div class="row my-2 mx-auto"><div class="col-5 text-right border-right border-dark">SIGNAL</div><div class="col-7 pl-4"></div></div><div class="row my-2 mx-auto"><div class="col-5 text-right border-right border-dark">DIRECTION</div><div class="col-7 pl-4"></div></div><div class="row my-2 mx-auto"><div class="col-5 text-right border-right border-dark">COORDINATE</div><div class="col-7 pl-4"></div></div><div class="row my-2 mx-auto"><div class="col-5 text-right border-right border-dark">SATTELITE</div><div class="col-7 pl-4"></div></div>'};$.get(c+"/dashboard/js",function(r){$.each(r.data.data,function(t,o){var i=p({lat:o.fflat,lng:o.fflon},{icon:L.icon({iconUrl:n,shadowUrl:v,iconAnchor:[17,37],shadowAnchor:[17,37],popupAnchor:[0,-15]})},o.created_at,m());l.addLayer(i),l.addTo(a)}),r.data.data.length!=0?a.fitBounds(l.getBounds()):console.log("No Data")});
